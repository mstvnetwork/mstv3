<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>YT API Debug Test</title>
  <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
  <h1>MSTV NETWORK - YouTube API Debug Test</h1>
  <div id="player"></div>
  <div id="status">Status: Loading...</div>

  <script>
    console.log("Script loaded, YT object:", typeof YT);

    function onYouTubeIframeAPIReady() {
      console.log("YouTube API ready");
      document.getElementById('status').textContent = "Status: API Ready, loading video...";

      const player = new YT.Player('player', {
        height: '360',
        width: '640',
        videoId: 'NdYQ00MM-IY',
        events: {
          'onReady': (event) => {
            console.log("Player ready");
            document.getElementById('status').textContent = "Status: Player ready, playing video...";
            event.target.playVideo();
          },
          'onStateChange': (event) => {
            console.log("Player state changed:", event.data);
            /*
              States:
              -1 (unstarted)
              0 (ended)
              1 (playing)
              2 (paused)
              3 (buffering)
              5 (video cued)
            */
          }
        }
      });
    }

    // Assign the callback globally
    window.onYouTubeIframeAPIReady = onYouTubeIframeAPIReady;
  </script>
</body>
</html>
